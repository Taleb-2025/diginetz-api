export class TSL_Heart_STS {
  evaluate(deltaReport) {
    const { deltaCount, metrics } = deltaReport;

    if (deltaCount === 0) {
      return { aligned: true, state: "STABLE" };
    }

    if (metrics.structuralDistance < 5) {
      return { aligned: true, state: "DRIFTING" };
    }

    if (metrics.structuralDistance < 12) {
      return { aligned: false, state: "ANOMALOUS" };
    }

    return { aligned: false, state: "CRITICAL" };
  }
}
